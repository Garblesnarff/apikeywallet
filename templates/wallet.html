{% extends "base.html" %}

{% block content %}
<h2>Your API Key Wallet</h2>
<div class="add-key-container">
    <a href="{{ url_for('main.add_key') }}" class="btn add-key-btn">Add New API Key</a>
</div>
<div class="api-key-container">
    {% if api_keys %}
        {% for key in api_keys %}
            <div class="api-key">
                <h3>{{ key.key_name }}</h3>
                <p class="masked-key">••••••••••••••••</p>
                <div class="key-actions">
                    <button class="copy-btn" data-key-id="{{ key.id }}">Copy Key</button>
                    <button class="delete-btn" data-key-id="{{ key.id }}">Delete</button>
                </div>
                <p class="date-added">Added on: {{ key.date_added.strftime('%Y-%m-%d %H:%M:%S') }}</p>
            </div>
        {% endfor %}
    {% else %}
        <p>You don't have any API keys yet.</p>
    {% endif %}
</div>

<div id="deleteModal" class="modal">
    <div class="modal-content">
        <h3>Confirm Deletion</h3>
        <p>Are you sure you want to delete this API key?</p>
        <div class="modal-buttons">
            <button id="confirmDelete" class="btn">Delete</button>
            <button id="cancelDelete" class="btn">Cancel</button>
        </div>
    </div>
</div>
{% endblock %}
