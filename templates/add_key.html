{% extends "base.html" %}

{% block content %}
<h2>Add New API Key</h2>
<form method="POST" id="add-key-form">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.key_name.label }}
        {{ form.key_name(class="form-control") }}
        <span id="key_name-error" class="text-danger"></span>
    </div>
    <div class="form-group">
        {{ form.api_key.label }}
        {{ form.api_key(class="form-control") }}
        <span id="api_key-error" class="text-danger"></span>
    </div>
    <div class="form-group">
        {{ form.category.label }}
        {{ form.category(class="form-control") }}
        <span id="category-error" class="text-danger"></span>
    </div>
    {{ form.submit(class="btn btn-primary") }}
</form>

<!-- Debugging section -->
{% if form.errors %}
<div class="debug-info">
    <h3>Form Errors:</h3>
    <ul>
    {% for field, errors in form.errors.items() %}
        {% for error in errors %}
            <li>{{ field }}: {{ error }}</li>
        {% endfor %}
    {% endfor %}
    </ul>
</div>
{% endif %}
{% endblock %}
